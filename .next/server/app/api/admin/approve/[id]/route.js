"use strict";(()=>{var e={};e.id=745,e.ids=[745],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3263:e=>{e.exports=import("firebase-admin/app")},2929:e=>{e.exports=import("firebase-admin/firestore")},1521:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{originalPathname:()=>_,patchFetch:()=>c,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>v,staticGenerationAsyncStorage:()=>l});var o=a(9303),s=a(8716),p=a(670),i=a(7535),n=e([i]);i=(n.then?(await n)():n)[0];let u=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/approve/[id]/route",pathname:"/api/admin/approve/[id]",filename:"route",bundlePath:"app/api/admin/approve/[id]/route"},resolvedPagePath:"/Users/tan135/thankyouthomas/app/api/admin/approve/[id]/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:v}=u,_="/api/admin/approve/[id]/route";function c(){return(0,p.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:l})}r()}catch(e){r(e)}})},7535:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{POST:()=>i});var o=a(7070),s=a(7096),p=e([s]);async function i(e,{params:t}){try{let{id:a}=t,{approved:r}=await e.json();return await s.db.collection("responses").doc(a).update({isApproved:r}),o.NextResponse.json({success:!0,message:`Message ${r?"approved":"rejected"} successfully`})}catch(e){return console.error("Error updating message approval:",e),o.NextResponse.json({success:!1,error:"Failed to update message approval"},{status:500})}}s=(p.then?(await p)():p)[0],r()}catch(e){r(e)}})},7096:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{db:()=>n});var o=a(3263),s=a(2929),p=e([o,s]);[o,s]=p.then?(await p)():p;let i={type:"service_account",project_id:process.env.FIREBASE_PROJECT_ID,private_key_id:process.env.FIREBASE_PRIVATE_KEY_ID,private_key:process.env.FIREBASE_PRIVATE_KEY?.replace(/\\n/g,"\n"),client_email:process.env.FIREBASE_CLIENT_EMAIL,client_id:process.env.FIREBASE_CLIENT_ID,auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_x509_cert_url:`https://www.googleapis.com/robot/v1/metadata/x509/${process.env.FIREBASE_CLIENT_EMAIL}`};(0,o.getApps)().length||(0,o.initializeApp)({credential:(0,o.cert)(i)});let n=(0,s.getFirestore)();r()}catch(e){r(e)}})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,972],()=>a(1521));module.exports=r})();